"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[329],{329:function(e,r,t){t.r(r),t.d(r,{default:function(){return m}});var a=t(861),n=t(439),s=t(687),c=t.n(s),u=t(791),o=t(946),i=t(683),l=t(701),h=t(184);var f=function(){var e=(0,l.AJ)(),r=e.searchParams,t=e.setSearchParams,s=e.location,f=r.get("query")||"",m=(0,u.useState)([]),v=(0,n.Z)(m,2),p=v[0],d=v[1];(0,u.useEffect)((function(){var e=localStorage.getItem("searchedMovies");e&&d(JSON.parse(e))}),[]);var x=function(){var e=(0,a.Z)(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),""!==f){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,(0,i.R8)({query:f});case 6:t=e.sent,d(t.results),localStorage.setItem("searchedMovies",JSON.stringify(t.results)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("Error fetching movie details:",e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(r){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("form",{onSubmit:x,children:[(0,h.jsx)(o.II,{onChange:function(e){var r=e.target.value.toLowerCase().trim();t(r?{query:r}:{})},value:f,placeholder:"Search your favorite movie",type:"text",required:!0,autoFocus:!0}),(0,h.jsx)(o.un,{type:"submit",children:"Search"})]}),(0,h.jsx)(o.aV,{children:p.map((function(e){return(0,h.jsx)(o.hX,{to:"/movies/".concat(e.id),state:{from:s.pathname},children:(0,h.jsx)(o.HC,{children:(0,h.jsx)(o.cv,{children:e.title})})},e.id)}))})]})};var m=function(){return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(f,{})})}}}]);
//# sourceMappingURL=329.32078a17.chunk.js.map